{% extends "play.html" %}

{% block head %}
<script>
	var result_template;

	function makeguess(event){
		var guess_val = $("#guess_input").val();

		$.post("#", {action:"guess", guess:guess_val},
		function(data){
			$("#results").append(window.result_template(data));
		}, "json");

		event.preventDefault();
	}
	$(document).ready(function(){
		var source   = $("#guess-template").html();
		window.result_template = Handlebars.compile(source);

		$("#make_guess").click(makeguess);
	})
</script>
{% raw %}
<script id="guess-template" type="text/x-handlebars-template">
<div class="alert-message">
	Go {{dir}} than {{guessed}}.
</div>
</script>
{% endraw %}
{% endblock %}

{% block content %}
<form>
	<fieldset>
		<legend>Make a Guess</legend>
		<label for="guess_input">Guess Number</label>
		<div class="input">
			<input class="xlarge" id="guess_input" size="4" type="text" />
		</div>
		<div class="actions">
			<button id="make_guess" class="btn primary">Make Guess</button>
		</div>
	</fieldset>
</form>
<div id="results"/>
{% endblock %}
